---
title: Theming with CSS Variables
_description: The Ignite UI for Angular theming engine provides an algorithm that generates Material-like palettes from base colors and contrast text colors for each hue in the palette.
_keywords: Ignite UI for Angular, UI controls, Angular widgets, web widgets, UI widgets, Angular, Native Angular Components Suite, Native Angular Controls, Native Angular Components Library, Native Angular Components, Angular Theming Component, Angular Theming
---

# Theming with CSS Variables
<p class="highlight">The Ignite UI for Angular theming engine provides an algorithm that generates Material-like palettes from base colors and contrast text colors for each hue in the palette.</p>
<div class="divider"></div>

## Overview

Themes in Ignite UI for Angular are defined by _shape_, _shadows_, _typography_, and **color**. The default way of changing the colors in a theme is to pass a palette generated by the [igx-palette]({environment:sassApiUrl}/index.html#function-igx-palette) function to the [igx-theme]({environment:sassApiUrl}/index.html#mixin-igx-theme) mixin. This palette will contain over 40 color shades (generated at build time) that are all represented by HEX/rgba color values. These values will in turn be used by individual component themes to automatically generate contrasting colors at build time. For instance, the raised button uses the `secondary` color for its background. If the `secondary` color is set to a lighter hue, the raised button will automatically calculate its text color to a contrasting color that will adhere to the WCAG AAA accessibility requirements. This functionality truly shines in more complex components like the Grid or Calendar. This is great, however, there's one major drawback to this approach - you cannot pass references to colors not known at Sass build time, like custom CSS properties, to the [igx-palette]({environment:sassApiUrl}/index.html#function-igx-palette) function.

Some of our users want to be able to change component theme colors at runtime and we allow that by exposing custom CSS variables for themes built with `$legacy-support` off. Obviously, this will not automatically generate contrasting colors as color values are not recalculated at runtime.

This article will expand on how users can pass custom CSS properties (CSS variables) to individual component themes so that colors can be 'connected' to a different palette, even external ones generated by other frameworks, like `Bootstrap` or `Angular Material`.

By modifying component schemas or themes, we will be able to use any custom CSS property as a value.

Let's take the [avatar]({environment:angularApiUrl}/classes/igxavatarcomponent.html) component for example.

First, make sure to include the colors of a palette as CSS variables to some scope, in this case, the root scope is used:

```scss
@include igx-palette-vars($light-material-palette, $contrast: true);
```

### Using custom theme schema

Then, we need to create a custom avatar schema that uses CSS variables, instead of the [igx-color]({environment:sassApiUrl}/index.html#function-igx-color) function (default) for retrieving colors and the pass it to the [igx-avatar-theme]({environment:sassApiUrl}/index.html#function-igx-avatar-theme):

```scss
@include igx-core();
@include igx-theme($palette: $light-material-palette);

$custom-avatar-schema: extend($_light-avatar, (
   icon-background: var(--igx-grays-400),
   icon-color: var(--igx-grays-800),
   initials-background: var(--igx-grays-400),
   initials-color: var(--igx-grays-800)
));

@include igx-avatar(
    igx-avatar-theme(
        $schema: $custom-avatar-schema,
    )
);
```

Now every avatar will use the `global CSS palette vars`, which allows you to modify them at runtime using JavaScript. You will not see any warnings or errors in your console if you omit a color, like the `icon-color` for instance, as it will fallback to a value declared in the [$_light-avatar]({environment:sassApiUrl}/index.html#variable-_light-avatar) schema, which resolves to `var(--igx-avatar-icon-color)`.

### Declaring global component themes

The second approach is similar to the previous one, but instead of creating a new custom schema, we can pass the values directly to the [igx-avatar-theme]({environment:sassApiUrl}/index.html#function-igx-avatar-theme) function:

```scss
@include igx-avatar(
    igx-avatar-theme(
        $icon-background: var(--igx-primary-500),
        $icon-color: var(--igx-grays-800),
        $initials-background: var(--igx-grays-400),
        $initials-color: var(--igx-grays-800)
    )
);
```

However, this solution will throw warnings if we do not pass the `$icon-color` property for instance, as it can't use the CSS variable reference at build time.

### Usage with external themes

The following code snippet demonstrates how to use colors from Bootstrap 4 with Ignite UI for Angular components: 

```scss
@import "~bootstrap/scss/bootstrap";

:host {
    // Include the Bootstrap theme colors
    @each $color, $value in $theme-colors {
        --#{$color}: #{$value};
    }

    ::ng-deep {
        @include igx-avatar(igx-avatar-theme(
            $initials-background: var(--primary),
            $initials-color: var(--dark),
            $icon-background: var(--info),
            $icon-color: var(--light)
        ));
    }
}
```

### Demo

<div class="sample-container loading" style="height:100px">
    <iframe id="avatar-css-variables-iframe" src='{environment:demosBaseUrl}/layouts/avatar-css-variables' width="100%" height="100%" seamless="" frameborder="0" onload="onSampleIframeContentLoaded(this);" alt="Angular Avatar Example"></iframe>
</div>
<p style="margin: 0;padding-top: 0.5rem">Like this sample? Get access to our complete Angular toolkit and start building your own apps in minutes. <a class="no-external-icon mchNoDecorate trackCTA" target="_blank" href="https://www.infragistics.com/products/ignite-ui-angular/download" data-xd-ga-action="Download" data-xd-ga-label="Ignite UI for Angular">Download it for free.</a></p>
<div>
<button data-localize="codesandbox" disabled class="codesandbox-btn" data-iframe-id="avatar-css-variables-iframe" data-demos-base-url="{environment:demosBaseUrl}">        view on codesandbox
    </button>
<button data-localize="stackblitz" disabled class="stackblitz-btn" data-iframe-id="avatar-css-variables-iframe" data-demos-base-url="{environment:demosBaseUrl}">        view on stackblitz
    </button>
</div>

## API Reference
<div class="divider--half"></div>

* [Light Components Schema]({environment:sassApiUrl}/index.html#variable-light-schema)
* [Dark Components Schema]({environment:sassApiUrl}/index.html#variable-dark-schema)
* [Getting Palette Colors]({environment:sassApiUrl}/index.html#function-igx-color)
* [Getting Contrast Colors]({environment:sassApiUrl}/index.html#function-igx-contrast-color)
* [Generating Color Classes]({environment:sassApiUrl}/index.html#mixin-igx-color-classes)

## Additional Resources
<div class="divider--half"></div>

Related topics:
* [Palettes](palette.md)
* [Schemas](schemas.md)
* [Global Theme](global-theme.md)
* [Component Themese](component-themes.md)

Our community is active and always welcoming to new ideas.
* [Ignite UI for Angular **Forums**](https://www.infragistics.com/community/forums/f/ignite-ui-for-angular)
* [Ignite UI for Angular **GitHub**](https://github.com/IgniteUI/igniteui-angular)

